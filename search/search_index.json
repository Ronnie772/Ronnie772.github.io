{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"Raunak Singh Datasheet as part of  Garden Buddy for  Team 201  <p>Submission: DEC/08/2025 </p><p></p>","tags":["tag1","tag2"]},{"location":"#introduction","title":"Introduction","text":"<ul> <li>These pages describe the construction of the motor subsystem for the Garden Buddy.</li> </ul>","tags":["tag1","tag2"]},{"location":"#project-summary","title":"Project Summary","text":"<ul> <li>Our goal witht the Garden Buddy is to bring automation to the green thumb so that everyone can enjoy a green and healthy environment at the comfort of their homes.</li> <li>We have desgined a moisture sensor that detects the hydration of the soil and lets our motor subsystem know when to open and close the valves to the water tank, irrigating the soil and maintaining the plants. We have a light sensor and a speaker that lets the user know when there isn't enough light or if the water tank is empty. </li> </ul>","tags":["tag1","tag2"]},{"location":"#my-contribution","title":"My Contribution","text":"<ul> <li> <p>My part of the project was to design, build and test th emotor subsystem. This smart irrigation system \"Garden Buddy\" detects the hydration of the soil and opens the water valves to irrigate the soil keeping the plant healthy and ensuring their long life with minimal user interaction.</p> </li> <li> <p>To review the detials of the Block Diagram click here</p> </li> <li> <p>To review the detials of the Component Selection process click here</p> </li> <li> <p>To review the detials of the Schematic click here</p> </li> <li> <p>To review the detials of the Power Budget click here</p> </li> </ul> <p></p> <p>Team Report can be found here.</p> Team Member Ind. Datasheet Links Jacob Alger JacobAlger.GitHub Isaiah Johnston Isaiahcmd.GitHub Rylee Wirt rmwirt-source.GitHub","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/","title":"Individal Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#overview","title":"Overview","text":"<p>This block diagram represents the motor subsystem for the Garden Buddy, The subsystem operates across an unregulated 9V input supplied by the barrel jack and a regulated 5V level produced by the LM7805T voltage regulator. The 9V input powers the regulator, and the resulting 5V rail is used to supply the PIC18F57Q43 microcontroller, the H-bridge driver (FAN8100N), and the supporting digital electronics. This ensures that all control logic and motor-drive signals operate within safe and consistent voltage levels.</p> <p>The microcontroller outputs two PWM-capable signals from pins RB3 and RB0, which correspond to the forward and reverse control lines of the H-bridge. These PWM signals allow for fine-grained motor control, including adjustments to speed and torque. The microcontroller also uses digital I/O pins such as RF4 and RC0 to interface with additional system inputs and to provide status feedback, such as driving the subsystem\u2019s red LED indicator.</p> <p>Two override switches are included in the design to support system checks and manual control during testing. Each switch provides a 5V digital signal that can override the microcontroller\u2019s PWM inputs when necessary, enabling direct control of the motor driver. These switches contribute to safer development and troubleshooting by allowing the user to verify motor behavior independently of firmware.</p> <p>The H-bridge itself receives the PWM inputs and produces a two-pin 5V output that drives the Pololu 2371 motor.</p> <p>Overall, this subsystem meets product requirements by providing reliable and modular motor control that is compatible with both automated firmware-based operation and manual testing.</p> <p></p> <p></p> <p></p> <p>downloadable pdf available here.</p>","tags":["tag1","tag2"]},{"location":"02-Component-Selection/Component-Selection/","title":"Component Selection","text":"<p>Voltage Regulator</p> <ol> <li>NJM7805FA</li> </ol> <p></p> <ul> <li>$1.7</li> <li> <p>Link to product</p> Pros Cons Lightweight Higher price Working temp lower (max- 85\u00b0C) </li> <li> <p>LM7805T</p> </li> </ul> <p></p> <ul> <li>$0.33</li> <li> <p>Link to product</p> Pros Cons From the kit Only sold in bulk ($33/100) Inexpensive </li> <li> <p>LM7805R</p> </li> </ul> <p></p> <ul> <li>$0.33</li> <li> <p>Link to product</p> Pros Cons Surface mount Only sold in bulk ($266.66/800) Better  thermal conductivity </li> </ul> <p>Choice: Option 2: LM7805T</p> <p>Rationale: The LM7805T has a 5V 1500mA output, it is inexpensive and efficient, the output matches our requerments perfectly and fits the power budget as well, since it is one of th parts provided by the class it makes most sense to choose this voltage regulator.</p> <p>Motors</p> <ol> <li> <p>M1N10FB11G 5V motor</p> <p></p> <ul> <li>$3.19/each</li> <li>link to product</li> </ul> Pros Cons Inexpensive Low torque Perfectly matches 5V rail Tendency to spike in amperage when turned on Lightweight Requires a diffrent Voltage regulator Available for bulk order for replacements </li> <li> <p>SE15K1BTYJ 12V motor</p> <p></p> <ul> <li>$9.24/each</li> <li>Link to product</li> </ul> Pros Cons Higher Torque Higher Price Small and compact Requires a diffrent Voltage regulator </li> <li> <p>2371 6V motor (Pololu)</p> </li> </ol> <p></p> <ul> <li>$23.95</li> <li> <p>Link to product</p> Pros Cons Highest Torque Higher Price Small and compact Low RPM Doesn't require an additional power rail Lightweight </li> </ul> <p>Choice: Option 3: 2371 6V motor (Pololu)</p> <p>Rationale: The 2371 6v motor by Pololu is perfect match for our 5v power rail and eliminates the need for an extra one, keeping the PCB design simple. It is lightweight and has the highest toque output, therefore saving cost and increasing productivity.</p> <p>H-Bridge</p> <ol> <li>FAN8100N</li> </ol> <p></p> <ul> <li>$1.16</li> <li> <p>Link to product</p> Pros Cons From the kit Low working temp (75\u00b0C) Through hole </li> <li> <p>DRV8833PWPR</p> </li> </ul> <p></p> <ul> <li>$2.6</li> <li> <p>Link to product</p> Pros Cons Built-in overcurrent and undervoltage protection Higher price Higher working temp (150\u00b0C) Surface mount </li> <li> <p>TB6615PG,8</p> </li> </ul> <p></p> <ul> <li>$2.09</li> <li> <p>Link to product</p> Pros Cons Higher working temp (85\u00b0C) Package arrival too late Fewer pins Through hole </li> </ul> <p>Choice: Option 1: FAN8100N </p> <p>Rationale: This FAN8100N is an inexpensive and efficient component that fits our requirements perfectly since it is part of the kit provided by the class it also eliminates the need to order an external part, therefore saving cost and increasing productivity. </p> <p>Barrel Jack</p> <ol> <li>PJ-102AH</li> </ol> <p></p> <ul> <li>$0.76</li> <li> <p>Link to product</p> Pros Cons From the kit Side load fragility Polybutylene Terephthalate for housing </li> <li> <p>PJ-202A</p> </li> </ul> <p></p> <ul> <li>$0.7</li> <li> <p>Link to product</p> Pros Cons Polybutylene Terephthalate for housing Lower current rating Package arrival too late </li> <li> <p>RAPC722X</p> </li> </ul> <p></p> <ul> <li>$2.01</li> <li> <p>Link to product</p> Pros Cons Better solder joint reliability Higher price Housing material specified as thermoplastic no specifications given </li> </ul> <p>Choice: Option 1: PJ-102AH</p> <p>Rationale: The PJ-102AH is an inexpensive and highly efficient barrel jack switch, it is part of the kit provided by the class and it fulfills our requirements hence eliminating the need to order an external part, saving cost and increasing productivity.</p> <p></p> <p>FINAL MAJOR COMPONENT SELECTION</p> Component Product Barrel Jack PJ-102AH Voltage regulator LM7805T H-Bridge FAN8100N Motor 2371 (Pololu) <p></p> <p>MCC CONFIGURATION</p> <p>The image below shows the MCC configuration used for the Motor subsystem in the GARDEN BUDDY project, the pins represent the interaction of the components with the microcontroller PIC18F57Q43. The Motor gets it's directional information the RF5 siganl deteting pin that processes the information and turns the motor either REV using the RB0 pin or FWD using the RB3 pin, meanwhile the RC0 pin provides a constant power to the debug RED-LED.</p> <p></p> <p></p>"},{"location":"03-BOM/BOM/","title":"Bill of Materials","text":"","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#overview","title":"Overview","text":"<p>This image serves as a complete bill of materials (BOM) for the motor subsystem design, outlining every item needed to assemble the motor subsystem for the Garden Buddy project, it serves as the main reference for the procurement of parts and cost estimation. All the components are readily available through Digi-Key, Amazon and Microchip-Technology and the total cost of the subsystem is \\(52.20. + the 5 outsourced JLC PCBs (\\)3.20) = $55.40.</p> <p></p>","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#bill-of-materials","title":"Bill of Materials","text":"<p>You can find the xlsx file here</p>","tags":["tag1","tag2"]},{"location":"04-Schematic/schematic/","title":"Schematic","text":""},{"location":"04-Schematic/schematic/#overview","title":"Overview","text":"<p>This schematic defines the motor subsystem, including power regulation, override controls, microcontroller interfaces, and the H-bridge motor driver. Its purpose is to provide reliable bidirectional motor control while supporting testing and integration with the overall system.</p> <p>The power section converts the 9V wall supply into a stable 5V line using an LM7805 regulator, which powers the PIC microcontroller, H-bridge, LEDs, and switches. Bypass capacitors are included to reduce noise and ensure stable operation.</p> <p>The microcontroller uses pins RB3 and RB0 to send forward and reverse control signals to the H-bridge. Sensor signals from other subsystems connect through the 8-pin ribbon headers, and several extra analog and digital pins are broken out for debugging and future expansion. An LED indicator provides simple visual feedback.</p> <p>Two override switches allow the user to manually force forward or reverse motor motion for testing or safety checks. Each switch outputs a 5V control signal when pressed.</p> <p>The H-bridge (FAN8100N) receives these control signals and drives the Pololu DC motor in either direction. Protection diodes and bypass capacitors help manage noise from the motor.</p> <p></p> <p></p> <p>Figure 1: Showing the schematic for the motors that control the water valve.</p>"},{"location":"04-Schematic/schematic/#resouces","title":"Resouces","text":"<p>The schematic as a PDF download is available ,here, and the Zip folder of the project here</p>"},{"location":"05-Power-Budget/Power-Budget/","title":"Power Budget","text":""},{"location":"05-Power-Budget/Power-Budget/#overview","title":"Overview","text":"<p>The power budget outlines the total electrical power required for the motor subsystem, It ensures the power supply can reliably support all operating conditions without overload or performance issues.</p> <p>To confirm that the motor subsystem can be safely and reliably powered, each device is listed along with its operating voltage range and maximum current draw to ensure that the selected power sources and regulators can supply sufficient current with an added 25% safety margin.</p> <p>Section A identifies all significant current-consuming components in the motor subsystem, including the LM7805T voltage regulator, the PIC18F57Q43 Curiosity Nano board, and the Pololu DC motor.</p> <p>Section B then assigns each of these components to the +5V rail, allowing the calculator to verify that the LM7805T can support the total load without exceeding its current limits.</p> <p>The subtotal current draw, combined with the safety margin, determines the total current required from the +5V regulator. Finally, the regulator\u2019s output capability is compared against this requirement to confirm that it provides adequate current headroom. As shown in the image, the LM7805T regulator meets the demand, leaving remaining current available for safe operation.</p> <p></p> <p></p>"},{"location":"05-Power-Budget/Power-Budget/#conclusions","title":"Conclusions","text":"<p>This power budget validates that the subsystem\u2019s component selection and power architecture, ensuring consistent performance while protecting against overload conditions.  </p>"},{"location":"05-Power-Budget/Power-Budget/#resouces","title":"Resouces","text":"<p>The power budget as a PDF download is available here, and a Microsoft Excel Sheet here.</p>"},{"location":"06-PCB-Design/06-PCB-Design/","title":"PCB - Design","text":""},{"location":"06-PCB-Design/06-PCB-Design/#overview","title":"Overview","text":"<p>The PCB for Motor Subsystem of Garden Buddy project implements the PIC18F57Q43 Curiosity Nano, the FAN8100N H-bridge driver, and connectors for the Pololu DC motor and team sensor interfaces. A 9v barrel jack supplies power to the onboard LM7805 linear regulator, which generates the regulated 5v rail used by the microcontroller, H-bridge, indicator LED, and override switches. Additional components such as pull-down resistors, bypass capacitors, and the safety override switches are placed to ensure stable operation and simplify testing.</p> <p></p> <p>3D rendered PCB image (KiCAD) </p> <p></p> <p>Top layer image of PCB (before soldering) </p> <p></p> <p>Bottom layer of PCB (before soldering) </p> <p></p> <p>Top layer of the PCB (after partial soldering) </p> <p></p> <p>Bottom layer of the PCB (after partial Soldering) </p>"},{"location":"06-PCB-Design/06-PCB-Design/#resouces","title":"Resouces","text":"<p>All the gbr &amp; drl files can be found in the zip file here, and the ecad project files can be found here.</p>"},{"location":"07-Code/Code/","title":"CODE","text":""},{"location":"07-Code/Code/#overview","title":"Overview","text":"<p>This is the code for microcontroller in the GARDEN BUDDY's motor subsystem.</p> <pre><code>#include \"mcc_generated_files/system/system.h\"\n#include &lt;xc.h&gt;\n#include &lt;stdint.h&gt;\n\n\n#define FWD   LATBbits.LATB3   // FORWARDA\n#define REV   LATBbits.LATB0   // REVERSEA\n\n#define RF5_GetValue()  PORTFbits.RF5\n\nint main(void)\n{\nSYSTEM_Initialize();\nPWM1_16BIT_Enable();\n\n// ------------ LED on RC0 always ON ------------\nANSELCbits.ANSELC0 = 0;   // Make RC0 a digital pin\nTRISCbits.TRISC0 = 0;     // RC0 = output\nLATCbits.LATC0 = 1;       // Turn LED ON permanently\n// ------------------------------------------------\n\n// Start with motor off\nFWD = 0;\nREV = 0;\nPWM1_16BIT_SetSlice1Output1DutyCycleRegister(0);\nPWM1_16BIT_LoadBufferRegisters();\n\nwhile(1)\n{\n    uint8_t signal = RF5_GetValue();   // read the pin\n\n    if (signal == 1)\n    {\n        // --------- FORWARD ---------\n        REV = 0;\n        FWD = 1;\n        __delay_ms(1000);\n    }\n    else\n    {\n        // --------- REVERSE ---------\n        FWD = 0;\n        REV = 1;\n        __delay_ms(1000);\n    }\n\n\n    PWM1_16BIT_SetSlice1Output1DutyCycleRegister(200);\n    PWM1_16BIT_LoadBufferRegisters();\n\n    __delay_ms(50);\n    }\n}\n</code></pre>"},{"location":"08%20Hardware%20V2.0/08%20Hardware%20V2.0/","title":"08 Hardware V2.0","text":""},{"location":"09%20Resources/09%20Resources/","title":"09 Resources","text":""},{"location":"10%20Reflections/Reflections/","title":"Reflections","text":""},{"location":"Appendix/","title":"Appendix - Main Page","text":"<p>The Appendix is where supporting information goes that is not in the main body.</p>"},{"location":"Appendix/another-subfile/","title":"Appendix - Another Subfile","text":"<p>Things to discuss</p>"},{"location":"Appendix/basic-markdown-examples/","title":"Appendix - Basic Markdown Examples","text":""},{"location":"Appendix/basic-markdown-examples/#introduction","title":"Introduction","text":"<p>Bold Text Italic Text Bold and Italic Text</p>"},{"location":"Appendix/basic-markdown-examples/#research-question","title":"Research Question","text":"<ul> <li>Bullet Point 1</li> <li>Bullet Point 2</li> <li>Bullet Point 3</li> </ul>"},{"location":"Appendix/basic-markdown-examples/#images","title":"Images","text":"<p> Figure 2: Early PCB working design</p> <p> Figure 3: Innovation Showcase Spring '25, where the products were a STEM-themed display that demonstrates a single scientific/engineering concept with the intended user of K-12 students interested in learning about science, technology, engineering, or math.</p>"},{"location":"Appendix/basic-markdown-examples/#results","title":"Results","text":"<ol> <li>Numbered Point 1</li> <li>Numbered Point 2</li> <li>Numbered Point 3</li> </ol>"},{"location":"Appendix/basic-markdown-examples/#conclusions-and-future-work","title":"Conclusions and Future Work","text":""},{"location":"Appendix/basic-markdown-examples/#external-links","title":"External Links","text":"<p>example link to idealab</p>"},{"location":"Appendix/basic-markdown-examples/#results_1","title":"Results","text":"<ol> <li>Numbered Point 1</li> <li>Numbered Point 2</li> <li>Numbered Point 3</li> </ol>"},{"location":"Appendix/basic-markdown-examples/#conclusions-and-future-work_1","title":"Conclusions and Future Work","text":""},{"location":"Appendix/basic-markdown-examples/#external-links_1","title":"External Links","text":"<p>example link to idealab</p>"},{"location":"Appendix/basic-markdown-examples/#references","title":"References","text":""},{"location":"Appendix/charts/","title":"Appendix - Charts Example","text":"<pre><code>graph LR\n  A[Start] --&gt; B{Error?};\n  B --&gt;|Yes| C[Hmm...];\n  C --&gt; D[Debug];\n  D --&gt; B;\n  B ----&gt;|No| E[Yay!];</code></pre> <pre><code>sequenceDiagram\n  autonumber\n  Alice-&gt;&gt;John: Hello John, how are you?\n  loop Healthcheck\n      John-&gt;&gt;John: Fight against hypochondria\n  end\n  Note right of John: Rational thoughts!\n  John--&gt;&gt;Alice: Great!\n  John-&gt;&gt;Bob: How about you?\n  Bob--&gt;&gt;John: Jolly good!</code></pre> <pre><code>stateDiagram-v2\n  state fork_state &lt;&lt;fork&gt;&gt;\n    [*] --&gt; fork_state\n    fork_state --&gt; State2\n    fork_state --&gt; State3\n\n    state join_state &lt;&lt;join&gt;&gt;\n    State2 --&gt; join_state\n    State3 --&gt; join_state\n    join_state --&gt; State4\n    State4 --&gt; [*]</code></pre>"},{"location":"Appendix/esp-32-table/","title":"Appendix - Example Controller Table for the ESP32","text":"ESP Info Answer Help Model ? Include the entire part number (leave off any letters at the end that specify the package type) Product Page URL ? Found on Espressif.com ESP32-S3-WROOM-1-N4 Datasheet URL ? Do not paste links directly into the table.  Use a link ESP32 S3 Datasheet URL ? Has more detail on functions ESP32 S3 Technical Reference Manual URL ? Has details on I/O multiplexing, USB, and others Vendor link ? Digikey, Jameco, etc.  Do not paste links directly into the table.  Use a link Code Examples ? url(s) for libraries on github or other sites related to the microcontroller and your planned peripherals External Resources URL(s) ? Search on Google and YouTube for other resources for each specific microcontroller. Unit cost ? Find on Digikey, Jameco, MPJA, or octopart Absolute Maximum Current for entire IC ? Find in the microcontroller datasheet Supply Voltage Range ? Min / Nominal / Max / Absolute Max, as found in datasheet Absolute Maximum current  (for entire IC) ? as found in datasheet Maximum GPIO current  (per pin) ? as found in datasheet Supports External Interrupts? ? as found in datasheet Required Programming Hardware, Cost, URL ? as found in datasheet Module # Available Needed Associated Pins (or * for any) UART ? ? ? external SPI* ? ? ? I2C ? ? ? GPIO ? ? ? ADC ? ? ? LED PWM ? ? ? Motor PWM ? ? ? USB Programmer ? 1 ? ... <p>* The ESP32-S2 has multiple SPI interfaces, but some are for internal use</p>"}]}